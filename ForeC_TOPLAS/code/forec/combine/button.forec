input int button1,button2;
output int display=0;
shared int count=0 combine mod with plus;

void main(void) {
	par( par(t1(),t2()), t3() ); (*\label{code:forec_combine:button_par}*)
}
void t1(void) {
	while (1) { count = (button1==1); pause; }
}
void t2(void) {
	while (1) { count = (button2==1); pause; }
}
void t3(void) {
	while (1) { display = count; pause; }
}

int plus(int th1,int th2) { return (th1+th2); }(*\label{code:forec_combine:button_plus}*)