typedef enum {OK,ERROR,WARN,TERM} State; (*\label{code:forec:uav_abort_state}*)
input State comms;  // Additional input. (*\label{code:forec:uav_abort_comms}*)
...
void main(void) {
	shared int obst=0 combine new with min;
	shared int newPos=0 combine new with plus;
	abort { (*\label{code:forec:uav_abort_abort}*)
		par(Flight(&newPos,&obst),Avoidance(&obst));
	} when (comms==TERM); (*\label{code:forec:uav_abort_cond}*)
	safeDescent(); (*\label{code:forec:uav_abort_descent}*)
}
