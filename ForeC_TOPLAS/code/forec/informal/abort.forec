shared int s=0 combine all with plus;
int plus(int th1,int th2) { return (th1+th2); }
void main(void) {
	s=1; printf(``%d'',s);
	/*weak*/ abort {
		par({s=2;pause;s=3;pause;s=4;},
		    {s=5;pause;s=6;pause;s=7;});
	} when /*immediate*/ (s>0);
	printf(``%d'',s);
}